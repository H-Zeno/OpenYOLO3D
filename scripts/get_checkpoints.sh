#!/bin/sh
if [ -d "./OpenYOLO3D" ]
then
    echo "OpenYOLO3D already exists!"
else
    echo "Downloading OpenYOLO3D.zip ..."
    wget --header="Host: mbzuaiac-my.sharepoint.com" --header="User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36" --header="Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7" --header="Accept-Language: en-US,en;q=0.9" --header="Referer: https://mbzuaiac-my.sharepoint.com/personal/ival_lab_mbzuai_ac_ae/_layouts/15/onedrive.aspx?id=%2Fpersonal%2Fival_lab_mbzuai_ac_ae%2FDocuments%2FOpenYOLO3D%2FOpenYOLO3D%2Ezip&parent=%2Fpersonal%2Fival_lab_mbzuai_ac_ae%2FDocuments%2FOpenYOLO3D&ga=1" --header="Cookie: MicrosoftApplicationsTelemetryDeviceId=11adc45c-c177-401f-be72-c5a04dd38eaf; MSFPC=GUID=4d55bcc04220448e91f997eb55162443&HASH=4d55&LV=202403&V=4&LU=1710787468351; SIMI=eyJzdCI6MH0=; WSS_FullScreenMode=false; rtFa=RQtEvDy7sGWgbcBexGcUyrS+ohL1BWjutpnOkVfK9CgmYzkzMjcyZDMtMWIwNy00YjNkLWEzYjYtMTliMzRhOTczOTE1IzEzMzYyNDg2MzM5MDUxNDE0MiM2ZDNiMzFhMS1jMDViLTAwMDAtMGRlNi04YjQ0MGQxYzg5ZDgjaXZhbC5sYWIlNDBtYnp1YWkuYWMuYWUjMjAwMTIzI0VQNHVieGJETWZfeVlCOUFtMTBWU2xPQmVTOES8jYQ++1IGPDQoqk9nXu17hWWzglxcOmtLNNYuvXOs5iba8hsrn3NWU3dPtVJg8YYGFsdgu6WEAhzvkCY9vOOcAKeX+DI4V7EQBSk156JxePG+1rSUqRpK9blnS7lnO30LZjDiXPIAXx+4QO59jgCW7Dr7mJ1vcqh3NMOGmjO98ClBgAK2zrVLb04XKPobOWa4TFbGDe0jf+7mA3zuhh8ydgWfV95Jj+9Ppk44c2rZ1y9NitprQblJEUT/n0FyyCgLzU8CTBt5YaJ5esc/iF8PCvmLXLIoaDmiq2/tihP3pAzQ+OoVTDQqAFiuNFnBj5YeIpN/kUtjVoK1+8mHZoW4AAAA; FedAuth=77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48U1A+VjEzLDBoLmZ8bWVtYmVyc2hpcHwxMDAzMjAwMzdmMTEzNjBmQGxpdmUuY29tLDAjLmZ8bWVtYmVyc2hpcHxpdmFsLmxhYkBtYnp1YWkuYWMuYWUsMTMzNjI0ODYyNzQwMDAwMDAwLDEzMzU5NzI0MjMwMDAwMDAwMCwxMzM2MjU3MjczOTAzNTc4MTAsNS4xOTUuNzQuMTIzLDY2LGM5MzI3MmQzLTFiMDctNGIzZC1hM2I2LTE5YjM0YTk3MzkxNSwsYTNhNmVlMjEtZWRiNS00ZWI2LTg3Y2EtOTc1NDExZTI4YjJlLDZkM2IzMWExLWMwNWItMDAwMC0wZGU2LThiNDQwZDFjODlkOCw2ZDNiMzFhMS1jMDViLTAwMDAtMGRlNi04YjQ0MGQxYzg5ZDgsLDAsMTMzNjI1NzI3MzkwMjAxNjgxLDEzMzYyNzQ1NTM5MDIwMTY4MSwsLGV5SjRiWE5mWTJNaU9pSmJYQ0pEVURGY0lsMGlMQ0o0YlhOZmMzTnRJam9pTVNJc0luQnlaV1psY25KbFpGOTFjMlZ5Ym1GdFpTSTZJbWwyWVd3dWJHRmlRRzFpZW5WaGFTNWhZeTVoWlNJc0luVjBhU0k2SW04dGQybHliMWxyY0VWaGFWWlBhMUl6UVVKTVFVRWlmUT09LDI2NTA0Njc3NDM5OTk5OTk5OTksMTMzNjI0ODYzMzgwMDAwMDAwLDZmNGVjMjYyLWU1ZjYtNDU1MS05Mzg1LTIwMmY1MDJiYmEwMywsLCwsLDExNTI5MjE1MDQ2MDY4NDY5NzYsLDIwMDEyMyxEYURBZmpRUW1weU9YeDJScktfVzVsdm9MWjQsTUp1VEk5cGM0MWVCTGJIR21xVXFEbjNaNzUxRVdWVWROTEhWcS9WVmp0ZHRyQTJvSVo0MjdwM2RqSytQYWI3TFdZR1Q4L1l3UXl0ZUt3dGxQT1pCeXc2U2wvbEZRV1VyN2lJejE5cWlCa2QxVXFhUk5UTlV5YW9Hc2ttV0FVckc3VXd6cUhTZDlTM3dqTk9tUzBuMGxhNmZGVHJDdzFzdmw2WVBYenBRWk1hSmxnWTRpMWY4SG9DZnVaZGs3V2FOVjRMcVovY0ppd3hSbGcxcmFLd3N0M1pBVDRXVFFGZ3Jwb3FaYitzRjYwNTdhMENRSmxqVlV3NURKNkNFcER6SCt0ODI4Y3Mvd0hmbWNCc1hUWmNGTk1sNk9JOWRYaEdhNWdxQlZhanFoYnRBVmVZSVk5ak9BNlllWnQ1d0QwYzM2Mzg1ZktNaDlyZXlZRkVDRGJhSDlnPT08L1NQPg==; odbn=1; ai_session=v5BCrNhHPkKhGR1O1k6nmo|1718014642992|1718014848610" --header="Connection: keep-alive" "https://mbzuaiac-my.sharepoint.com/personal/ival_lab_mbzuai_ac_ae/_layouts/15/download.aspx?SourceUrl=%2Fpersonal%2Fival%5Flab%5Fmbzuai%5Fac%5Fae%2FDocuments%2FOpenYOLO3D%2FOpenYOLO3D%2Ezip" -c -O 'OpenYOLO3D.zip'
    echo "Unzipping OpenYOLO3D.zip to OpenYOLO3D..."
    unzip OpenYOLO3D.zip
fi

mkdir -p "./pretrained/"
echo "Moving OpenYOLO3D/checkpoints to ./pretrained/checkpoints ..."
mv ./OpenYOLO3D/checkpoints ./pretrained/