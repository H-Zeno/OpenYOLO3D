#!/bin/sh
if [ -d "./OpenYOLO3D" ]
then
    echo "OpenYOLO3D already exists!"
else
    echo "Downloading OpenYOLO3D.zip ..."
    wget --header="Host: mbzuaiac-my.sharepoint.com" --header="User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36" --header="Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7" --header="Accept-Language: en-US,en;q=0.9" --header="Referer: https://mbzuaiac-my.sharepoint.com/personal/ival_lab_mbzuai_ac_ae/_layouts/15/onedrive.aspx?id=%2Fpersonal%2Fival%5Flab%5Fmbzuai%5Fac%5Fae%2FDocuments%2FOpenYOLO3D%2FOpenYOLO3D%2Ezip&parent=%2Fpersonal%2Fival%5Flab%5Fmbzuai%5Fac%5Fae%2FDocuments%2FOpenYOLO3D&ga=1" --header="Cookie: loginAsDifferentAttemptCount=0; MicrosoftApplicationsTelemetryDeviceId=11adc45c-c177-401f-be72-c5a04dd38eaf; MSFPC=GUID=4d55bcc04220448e91f997eb55162443&HASH=4d55&LV=202403&V=4&LU=1710787468351; SIMI=eyJzdCI6MH0=; WSS_FullScreenMode=false; rtFa=SjirtaShz0AzwLjPklNtpvcLq3Zm0o/51OnbWdhIGs4mYzkzMjcyZDMtMWIwNy00YjNkLWEzYjYtMTliMzRhOTczOTE1IzEzMzYyNjY0NTkwNDY0OTE0MSM2YmU1MzFhMS0yMGM0LTAwMDAtMTFiNC1mMTc1MDk4ODNjYmEjTW9oYW1lZC5Cb3Vkam9naHJhJTQwbWJ6dWFpLmFjLmFlIzIwMDEyMyNFUDR1YnhiRE1mX3lZQjlBbTEwVlNsT0JlUzgHpUcAekEBktG+sjJ+j9njxDbS4Q/TgYp+hdbyvDN2Qmd3annNW8mDVnBpnCPvaz/QBr34TRuQsGhib8PugB/GtuVeSJL1eLnx9wArYTfMWE99106gfQz2HrzEdlRAe8eH8KUB4N0JcnZejQx605t5uHlbYIzr4rg9OM1zHeMy30GFzu9ITxWPM5/Ev+ALdFTBt1zOVeE/rFkbYcmp/AUkHgTIn0At1xnwdOHTFcW5gsWNm5umSciAKF8VydklojGkVUYKwWYKyuoM3wXWfqqgB6h6Sb9UH54X83iuPXj3fGQxsT/faKR85vaACrvatZTMY6PXSoGIjpc/KJO/F/1GwgAAAA==; FedAuth=77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48U1A+VjEzLDBoLmZ8bWVtYmVyc2hpcHwxMDAzMjAwMjFhODBhMzJkQGxpdmUuY29tLDAjLmZ8bWVtYmVyc2hpcHxtb2hhbWVkLmJvdWRqb2docmFAbWJ6dWFpLmFjLmFlLDEzMzYyNjQ4OTYxMDAwMDAwMCwxMzM1Njg1NTg4NzAwMDAwMDAsMTMzNjI3NTA5OTA0NDkzNjUzLDUuMTk1LjAuMTQ1LDY2LGM5MzI3MmQzLTFiMDctNGIzZC1hM2I2LTE5YjM0YTk3MzkxNSwsMzJiNzI1NmUtZTRjOC00YTZjLTg4MzYtMGRhYTA0YTk2OThhLDZiZTUzMWExLTIwYzQtMDAwMC0xMWI0LWYxNzUwOTg4M2NiYSw2YmU1MzFhMS0yMGM0LTAwMDAtMTFiNC1mMTc1MDk4ODNjYmEsLDAsMTMzNjI3NTA5OTA0MzM3MDk4LDEzMzYyOTIzNzkwNDMzNzA5OCwsLGV5SjRiWE5mWTJNaU9pSmJYQ0pEVURGY0lsMGlMQ0o0YlhOZmMzTnRJam9pTVNJc0luQnlaV1psY25KbFpGOTFjMlZ5Ym1GdFpTSTZJazF2YUdGdFpXUXVRbTkxWkdwdloyaHlZVUJ0WW5wMVlXa3VZV011WVdVaUxDSjFkR2tpT2lJeU9HVmxRa1Z5TjB0clQwbGphbTVTZG5wS1FrRkJJbjA9LDI2NTA0Njc3NDM5OTk5OTk5OTksMTMzNjI2NjQ1OTAwMDAwMDAwLDNlYTQ2ODY4LTA5MTQtNGI3NC1hYzdiLTM2MzkzZjM4NDkwMCwsLCwsLDExNTI5MjE1MDQ2MDY4NDY5NzYsLDIwMDEyMyxEYURBZmpRUW1weU9YeDJScktfVzVsdm9MWjQsTWU0NEJLZ0d1dFROUkxKMXJaMDluVkk5WUxoVGkwYmVPSDlKZE5pR0lwR1ZLWnRWK3BPb0s2Ti9XQm9DV0ZQdnJQMUNRRyt6STV5bW53L254RElHMjJlVzBXVmM4dGw1RWhVbWlla3oyamFYaXA0TnBQWWR4MGkwRWZVVW1WcFBnSmtJQVNlWkJoV0l0YU5rd0tDbFZIb2ZSM1RHNlBHcEJSSFFOTW5VQ2FiMTFNSmdyQm1BbjA4alhKb2YvbEM4ZHVWemhQelVJZUFNaTA4V2NaMmhya2FHQVpxYU1GOVBaNFBIQVIwTHRza0pkMnIxcWtkaXZZMkc3VFVFdzVxWlhtNDF0d1hyZXdDaW5lQlA2bnFzdG11M2RONTlmbHdpUGFVWm90VzM5Tm9UNjBibE4weGU5NDNFVmhLQ0lWVnFSTjdQRUU0M1JXRXFlRTNPdUlzRVlnPT08L1NQPg==; odbn=1; ai_session=eWPyz3QJ5TSfcRzdABGlcJ|1718191111308|1718191141377" --header="Connection: keep-alive" "https://mbzuaiac-my.sharepoint.com/personal/ival_lab_mbzuai_ac_ae/_layouts/15/download.aspx?SourceUrl=%2Fpersonal%2Fival%5Flab%5Fmbzuai%5Fac%5Fae%2FDocuments%2FOpenYOLO3D%2FOpenYOLO3D%2Ezip" -c -O 'OpenYOLO3D.zip'
    echo "Unzipping OpenYOLO3D.zip to OpenYOLO3D..."
    unzip OpenYOLO3D.zip
fi

mkdir -p "./pretrained/"
echo "Moving OpenYOLO3D/checkpoints to ./pretrained/checkpoints ..."
mv ./OpenYOLO3D/checkpoints ./pretrained/